<!DOCTYPE html>
<html>
    <head>
        <title>NERVE 1.7.0a</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="resources/NERVE.png">

        <link rel="stylesheet" type="text/css" href="styles/nerve.css" />
        <link rel="stylesheet" type="text/css" href="styles/tag.css"/>
        <link rel="stylesheet" type="text/css" href="dialogs/css/bootstrap.css"/>
        <link rel="stylesheet" type="text/css" href="dialogs/css/datepicker.css"/>
        <link rel="stylesheet" type="text/css" href="dialogs/font-awesome/css/font-awesome.min.css"/>
        <link rel="stylesheet" type="text/css" href="dialogs/css/cD.css"/>
        <link rel="stylesheet" type="text/css" href="styles/menu.css"/>

        <!-- External Libraries -->
        <script src="dialogs/js/lib/jquery-3.1.1.js"></script>
        <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.js" accesskey="" integrity="sha256-0YPKAwZP7Mp3ALMRVB2i8GXeEndvCq3eSl/WsAl1Ryk=" crossorigin="anonymous"></script>
        <script src="dialogs/js/lib/knockout-2.3.0.js"></script>
        <script src="dialogs/js/lib/bootstrap-datepicker.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

        <script src="dialogs/js/cwrc-api.js"></script>
        <script src="dialogs/js/cD.js"></script>
        <script src="dialogs/js/app.js"></script>

        <script src="javaScript/util/customQuery.js" type="text/javascript"></script>
        <script src="javaScript/util/utility.js" type="text/javascript"></script>
        <script src="javaScript/util/storage.js" type="text/javascript"></script>
        <script src="javaScript/util/keyboardCodeEnum.js" type="text/javascript"></script>
        <script src="javaScript/util/fileOperations.js" type="text/javascript"></script>

        <script src="javaScript/collection/collection.js" type="text/javascript"></script>
        <script src="javaScript/util/searchUtility.js" type="text/javascript"></script>

        <script src="javaScript/JJJ.js" type="text/javascript"></script>

        <script src="javaScript/mvc/dialogs.js" type="text/javascript"></script>
        <script src="javaScript/mvc/controller.js" type="text/javascript"></script>
        <script src="javaScript/mvc/schema.js" type="text/javascript"></script>
        <script src="javaScript/gen/context.js" type="text/javascript"></script>
        <script src="javaScript/mvc/model.js" type="text/javascript"></script>
        <script src="javaScript/mvc/view.js" type="text/javascript"></script>
        <script src="javaScript/mvc/listeners.js" type="text/javascript"></script>
        <script src="javaScript/main.js" type="text/javascript"></script>

        <script src="javaScript/gen/nerveServer.js" type="text/javascript"></script>
        <script src="javaScript/util/SQL.js" type="text/javascript"></script>
    </head>

    <body>

        <script>
            $(window).on('load', async function () {
                console.log("window.onload : start");
                JJJRMISocket.devmode = 0;
                window.main = new Main();
                await main.initialize();

                /* make boostrap dialogs movable */
                jQuery('.modal-dialog').draggable({
                    handle: ".modal-header"
                });

                console.log("window.onload : done");
                setTimeout(() => main.view.tagnameManager.pollDocument(), 500);

//                $("#container").show()
//                $("#throbberBG").hide();
            });
        </script>

        <!-- typically hidden stuff -->
        <div id="userMessage"></div>
        <div id="throbberBG">
            <img id="throbber" src="resources/loader400.gif"/>
            <div id="baubles">
                <img data-index="1" src="resources/light-off.png"/>
                <img data-index="2" src="resources/light-off.png"/>
                <img data-index="3" src="resources/light-off.png"/>
                <img data-index="4" src="resources/light-off.png"/>
                <img data-index="5" src="resources/light-off.png"/>
                <img data-index="6" src="resources/light-off.png"/>
                <img data-index="7" src="resources/light-off.png"/>
            </div>
            <div id="message"></div>
            <div id="percent">0%</div>
        </div>

        <input type="file" id="fileOpenDialog"/>
        <!-- ---------------------- -->

        <div id="container">
            <div id="menuContainer">
                <div id="menuInfo">
                    <div id="abbr">NERVE 1.7.0a</div>
                    <div id="fullname">Named Entity Recognition Vetting Environment</div>
                    <div id="link"><a href="http://dh.sharcnet.ca/nerve">dh.sharcnet.ca</a></div>
                </div>
                <div id="documentTitle">Document Title</div>
                <div id="menuBar">
                    <div class="menu">
                        <div class="menuTitle">File</div>
                        <div class="itemContainer">
                            <div class="menuItem" id="menuOpen">Open<div class="menuSC">Ctrl-O</div></div>
                            <div class="menuItem" id="menuSave">Save<div class="menuSC">Ctrl-S</div></div>
                            <div class="menuItem" id="menuClose">Close</div>
                        </div>
                    </div>
                    <div class="menu">
                        <div class="menuTitle">View</div>
                        <div class="itemContainer">
                            <div class="menuItem" id="menuTags" data-value="false">Tag Mode</div>
                            <div class="menuItem" id="menuClear">Clear Selection<div class="menuSC">esc</div></div>
                            <div class="menuItem" id="menuReset">Clear All</div>
                        </div>
                    </div>
                    <div class="menu">
                        <div class="menuTitle">Action</div>
                        <div class="itemContainer">
                            <div class="menuItem" id="menuTag">Tag<div class="menuSC">Ctrl-E</div></div>
                            <div class="menuItem" id="menuUntag">Remove Tag<div class="menuSC">Ctrl-R</div></div>
                            <div class="menuItem" id="menuFind">Find<div class="menuSC">Ctrl-F</div></div>
                            <div class="menuItem" id="menuSelectLemma">Select by Standard<div class="menuSC">Ctrl-A</div></div>
                            <div class="menuItem" id="menuMerge">Merge Entities<div class="menuSC">Ctrl-M</div></div>
                            <div class="menuItem" id="menuCopy">Copy<div class="menuSC">Ctrl-C</div></div>
                            <div class="menuItem" id="menuPaste">Paste<div class="menuSC">Ctrl-V</div></div>
                            <div class="menuItem" id="menuUndo">Undo<div class="menuSC">Ctrl-Z</div></div>
                            <div class="menuItem" id="menuRedo">Redo<div class="menuSC">Ctrl-Y</div></div>
                        </div>
                    </div>
                    <div class="menu">
                        <div class="menuTitle">Help</div>
                        <div class="itemContainer">
                            <div class="menuItem" id="menuWiki">Wiki</div>
                        </div>
                    </div>
                </div>
            </div>

            <input id="epsTextArea">
            <button id="epsPrev">Previous</button>
            <button id="epsNext">Next</button>

            <div id="middlePanel">
                <div id="futurePanel"></div>

                <div id="panelContainer" >
                    <div id="tagnamePanel"></div>
                    <div id="entityPanel"></div>
                </div>

                <div id="entityDialog">
                    <div class="entityDialogMember">Tag Name</div>
                    <div class="entityDialogMember"><select id="selectTagName"></select></div>
                    <div class="entityDialogMember"><div>Entity Text</div><input class="entityDialogTB" id="txtEntity" type="text" disabled/></div>
                    <div class="entityDialogMember"><button id="searchDialog" type="button" class="btn btn-default" disabled><i class="fa fa-search"></i></button></div>
                    <div class="entityDialogMember"><div>Standard Label</div><input class="entityDialogTB" id="txtLemma" type="text" disabled/></div>
                    <div class="entityDialogMember"><div>Link</div><input class="entityDialogTB" id="txtLink" type="text" disabled/><div id="goLink">GO</div></div>

                    <div id="dictionary">
                        <button id="dictAdd"    type="button" class="btn-dict">Add to User Dictionary</button>
                        <button id="dictRemove" type="button" class="btn-dict">Remove From User Dictionary</button>
                        <button id="dictUpdate" type="button" class="btn-dict">Update User Dictionary</button>
                    </div>
                </div>
            </div>

            <!--<div id="dialogsHolder"></div>-->
        </div>
    </body>
</html>